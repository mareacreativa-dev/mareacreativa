---
import { MousePointerClick } from "@lucide/astro";

export interface Props {
  title: string;
  description: string;
  image: string;
  url?: string;
  tags?: string[];
  pais?: string;
}

const {
  title,
  description,
  image,
  url,
  tags = [],
  pais = "EspaÃ±a",
} = Astro.props;

const flags = {
  EspaÃ±a: "ğŸ‡ªğŸ‡¸",
  EEUU: "ğŸ‡ºğŸ‡¸",
  MÃ©xico: "ğŸ‡²ğŸ‡½",
  Colombia: "ğŸ‡¨ğŸ‡´",
  Argentina: "ğŸ‡¦ğŸ‡·",
  PerÃº: "ğŸ‡µğŸ‡ª",
  Chile: "ğŸ‡¨ğŸ‡±",
};
---

<div
  class="bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow flex flex-col"
>
  <div class="overflow-hidden">
    <img
      src={image}
      alt={title}
      class="w-full h-48 object-cover transition-transform duration-300 hover:scale-105"
      draggable="false"
      title="Imagen destacada"
      loading="lazy"
    />
  </div>
  <div class="p-6 flex flex-col flex-grow">
    <div class="flex items-center justify-between mb-2">
      <h2 class="text-xl font-bold">{title}</h2>
      <span class="text-2xl">{flags[pais]}</span>
    </div>
    <p class="text-gray-600 mb-4 text-sm mt-2">{description}</p>
    {
      tags.length > 0 && (
        <div class="flex flex-wrap gap-2 mb-4">
          {tags.map((tag) => (
            <span class="bg-gray-100 text-gray-800 text-xs px-3 py-1 rounded-full">
              {tag}
            </span>
          ))}
        </div>
      )
    }
    {
      url && (
        <a href={url} class="text-sm mt-auto w-full" target="_blank">
          <div class="flex items-center justify-end gap-2 p-2 rounded-xl">
            <MousePointerClick class="text-gray-500" />
            <span class="text-gray-500 font-semibold">Ver Online</span>
          </div>
        </a>
      )
    }
  </div>
</div>
